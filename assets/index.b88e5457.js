(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function S(){}function je(e){return e()}function Ne(){return Object.create(null)}function x(e){e.forEach(je)}function Te(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function xe(e){return Object.keys(e).length===0}function u(e,t){e.appendChild(t)}function O(e,t,l){e.insertBefore(t,l||null)}function L(e){e.parentNode.removeChild(e)}function Ce(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function s(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function k(){return B(" ")}function I(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function d(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Je(e){return Array.from(e.childNodes)}function ve(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function C(e,t){e.value=t==null?"":t}function Oe(e,t){for(let l=0;l<e.options.length;l+=1){const n=e.options[l];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function ze(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let we;function Y(e){we=e}function Ke(e,t){const l=e.$$.callbacks[t.type];l&&l.slice().forEach(n=>n.call(this,t))}const X=[],ce=[],se=[],me=[],Ve=Promise.resolve();let be=!1;function Ge(){be||(be=!0,Ve.then(Ue))}function fe(e){se.push(e)}function Me(e){me.push(e)}const _e=new Set;let ue=0;function Ue(){const e=we;do{for(;ue<X.length;){const t=X[ue];ue++,Y(t),We(t.$$)}for(Y(null),X.length=0,ue=0;ce.length;)ce.pop()();for(let t=0;t<se.length;t+=1){const l=se[t];_e.has(l)||(_e.add(l),l())}se.length=0}while(X.length);for(;me.length;)me.pop()();be=!1,_e.clear(),Y(e)}function We(e){if(e.fragment!==null){e.update(),x(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fe)}}const ae=new Set;let Q;function Xe(){Q={r:0,c:[],p:Q}}function Ye(){Q.r||x(Q.c),Q=Q.p}function M(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function K(e,t,l,n){if(e&&e.o){if(ae.has(e))return;ae.add(e),Q.c.push(()=>{ae.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function qe(e,t,l){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function de(e){e&&e.c()}function Z(e,t,l,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,l),n||fe(()=>{const o=e.$$.on_mount.map(je).filter(Te);e.$$.on_destroy?e.$$.on_destroy.push(...o):x(o),e.$$.on_mount=[]}),i.forEach(fe)}function ee(e,t){const l=e.$$;l.fragment!==null&&(x(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Ze(e,t){e.$$.dirty[0]===-1&&(X.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,l,n,r,i,o,a=[-1]){const c=we;Y(e);const f=e.$$={fragment:null,ctx:[],props:i,update:S,not_equal:r,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ne(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};o&&o(f.root);let b=!1;if(f.ctx=l?l(e,t.props||{},(h,g,...E)=>{const p=E.length?E[0]:g;return f.ctx&&r(f.ctx[h],f.ctx[h]=p)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](p),b&&Ze(e,h)),g}):[],f.update(),b=!0,x(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const h=Je(t.target);f.fragment&&f.fragment.l(h),h.forEach(L)}else f.fragment&&f.fragment.c();t.intro&&M(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),Ue()}Y(c)}class le{$destroy(){ee(this,1),this.$destroy=S}$on(t,l){if(!Te(l))return S;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var F=(e=>(e[e.NONE=0]="NONE",e[e.REQUIRED=1]="REQUIRED",e[e.OPTIONAL=2]="OPTIONAL",e))(F||{});function He(e){return Object.hasOwn(e,"shortFlag")&&!!e.shortFlag}function Qe(e){return Object.hasOwn(e,"longFlag")&&!!e.longFlag}const et=e=>e.filter(He).reduce((t,l)=>{let n="";switch(l.argument){case F.OPTIONAL:n=":";break;case F.REQUIRED:n="::";break}return t+l.shortFlag+n},""),tt=e=>["{",e.filter(Qe).map(l=>{let n="no_argument";switch(l.argument){case F.OPTIONAL:n="optional_argument";break;case F.REQUIRED:n="required_argument";break}return`{"${l.longFlag}", ${n}, 0, ${l.shortFlag?`'${l.shortFlag}'`:0}}`}).concat("{ 0, 0, 0, 0 }").map(l=>"	"+l).join(`,
`),"}"].join(`
`);function nt(e,t){var n;let l=e.flatMap(r=>{let i=r.description?typeof r.description=="string"?[r.description]:r.description:[],o=[],a=[];He(r)&&a.push("-"+r.shortFlag),Qe(r)&&a.push("--"+r.longFlag);let c=a.map(f=>{let b="";switch(r.argument){case F.OPTIONAL:b=` [${r.argumentPlaceholder||"..."}]`;break;case F.REQUIRED:b=` ${r.argumentPlaceholder||"..."}`;break}return f+b}).join(", ");if(o.push(c),i.length>0){o[0]+=" - ";let f=o[0].length;o[0]+=i[0],i.slice(1).forEach(b=>o.push(Array(f+1).join(" ")+b))}return o.map(f=>{var b;return((b=t==null?void 0:t.linePrefix)!=null?b:"")+f})});return t!=null&&t.outputAsArray?l:l.join((n=t==null?void 0:t.lineSeparator)!=null?n:`
`)}function z(e){return{generateShort:()=>et(e),generateLong:()=>tt(e),generateHelpText:t=>nt(e,t),get data(){return e}}}const lt=e=>btoa(JSON.stringify(e)),rt=e=>JSON.parse(atob(e));function Ae(e,t,l){const n=e.slice();return n[2]=t[l],n}function Fe(e){let t,l,n,r,i;return{c(){t=s("pre"),l=s("code"),n=B(e[0]),r=k(),i=s("pre"),d(t,"data-prefix","$")},m(o,a){O(o,t,a),u(t,l),u(l,n),O(o,r,a),O(o,i,a)},p(o,a){a&1&&ve(n,o[0])},d(o){o&&L(t),o&&L(r),o&&L(i)}}}function Re(e){let t,l,n=e[2]+"",r;return{c(){t=s("pre"),l=s("code"),r=B(n),d(t,"data-prefix","")},m(i,o){O(i,t,o),u(t,l),u(l,r)},p(i,o){o&2&&n!==(n=i[2]+"")&&ve(r,n)},d(i){i&&L(t)}}}function it(e){let t,l,n=e[0]&&Fe(e),r=e[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Re(Ae(e,r,o));return{c(){t=s("div"),n&&n.c(),l=k();for(let o=0;o<i.length;o+=1)i[o].c();d(t,"class","mockup-code svelte-1mgu3vn")},m(o,a){O(o,t,a),n&&n.m(t,null),u(t,l);for(let c=0;c<i.length;c+=1)i[c].m(t,null)},p(o,[a]){if(o[0]?n?n.p(o,a):(n=Fe(o),n.c(),n.m(t,l)):n&&(n.d(1),n=null),a&2){r=o[1];let c;for(c=0;c<r.length;c+=1){const f=Ae(o,r,c);i[c]?i[c].p(f,a):(i[c]=Re(f),i[c].c(),i[c].m(t,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=r.length}},i:S,o:S,d(o){o&&L(t),n&&n.d(),Ce(i,o)}}}function ot(e,t,l){let{command:n=null}=t,{lines:r}=t;return e.$$set=i=>{"command"in i&&l(0,n=i.command),"lines"in i&&l(1,r=i.lines)},[n,r]}class ut extends le{constructor(t){super(),ne(this,t,ot,it,te,{command:0,lines:1})}}function st(e){let t,l,n;return{c(){t=s("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',d(t,"class","btn btn-sm btn-circle btn-outline")},m(r,i){O(r,t,i),l||(n=I(t,"click",e[0]),l=!0)},p:S,i:S,o:S,d(r){r&&L(t),l=!1,n()}}}function at(e){function t(l){Ke.call(this,e,l)}return[t]}class ct extends le{constructor(t){super(),ne(this,t,at,st,te,{})}}function Pe(e){let t,l,n;return{c(){t=s("button"),t.textContent="\u2303",d(t,"class","btn btn-outline place-content-center")},m(r,i){O(r,t,i),l||(n=I(t,"click",e[3]),l=!0)},p:S,d(r){r&&L(t),l=!1,n()}}}function Se(e){let t,l,n;return{c(){t=s("button"),t.textContent="\u2304",d(t,"class","btn btn-outline place-content-center")},m(r,i){O(r,t,i),l||(n=I(t,"click",e[4]),l=!0)},p:S,d(r){r&&L(t),l=!1,n()}}}function ft(e){let t,l,n;return{c(){t=s("input"),d(t,"type","checkbox"),d(t,"class","toggle")},m(r,i){O(r,t,i),l||(n=I(t,"click",e[6]),l=!0)},p:S,d(r){r&&L(t),l=!1,n()}}}function dt(e){let t,l,n,r,i,o,a,c,f,b,h,g,E;return{c(){t=s("div"),l=s("div"),n=s("select"),r=s("option"),i=B("No argument"),o=s("option"),a=B("Optional"),c=s("option"),f=B("Required"),b=k(),h=s("input"),r.__value=F.NONE,r.value=r.__value,o.__value=F.OPTIONAL,o.value=o.__value,c.__value=F.REQUIRED,c.value=c.__value,d(n,"class","select select-bordered"),e[0][e[1]].argument===void 0&&fe(()=>e[9].call(n)),d(h,"type","text"),d(h,"placeholder","Argument name"),d(h,"class","input input-bordered"),d(l,"class","input-group"),d(t,"class","form-control")},m(p,v){O(p,t,v),u(t,l),u(l,n),u(n,r),u(r,i),u(n,o),u(o,a),u(n,c),u(c,f),Oe(n,e[0][e[1]].argument),u(l,b),u(l,h),C(h,e[0][e[1]].argumentPlaceholder),g||(E=[I(n,"change",e[9]),I(h,"input",e[10])],g=!0)},p(p,v){v&3&&Oe(n,p[0][p[1]].argument),v&3&&h.value!==p[0][p[1]].argumentPlaceholder&&C(h,p[0][p[1]].argumentPlaceholder)},d(p){p&&L(t),g=!1,x(E)}}}function pt(e){let t,l,n,r,i,o,a,c,f,b,h,g,E,p,v,_,R,D,T,J,U,w=e[1]!=0&&Pe(e),$=e[0].length!=e[1]+1&&Se(e);function V(m,A){return!!m[0][m[1]].argument&&m[0][m[1]].argument!=F.NONE?dt:ft}let P=V(e),N=P(e);return D=new ct({}),D.$on("click",e[5]),{c(){t=s("tr"),l=s("td"),n=s("div"),w&&w.c(),r=k(),$&&$.c(),i=k(),o=s("td"),a=s("input"),c=k(),f=s("td"),b=s("input"),h=k(),g=s("td"),N.c(),E=k(),p=s("td"),v=s("textarea"),_=k(),R=s("td"),de(D.$$.fragment),d(a,"type","text"),d(a,"placeholder","Short Name"),d(a,"class","input input-ghost w-full max-w-xs"),d(a,"maxlength",1),d(a,"minlength",1),d(b,"type","text"),d(b,"placeholder","Long Name"),d(b,"class","input input-ghost w-full max-w-xs"),d(v,"class","textarea textarea-ghost"),d(v,"placeholder","Description")},m(m,A){O(m,t,A),u(t,l),u(l,n),w&&w.m(n,null),u(n,r),$&&$.m(n,null),u(t,i),u(t,o),u(o,a),C(a,e[0][e[1]].shortFlag),u(t,c),u(t,f),u(f,b),C(b,e[0][e[1]].longFlag),u(t,h),u(t,g),N.m(g,null),u(t,E),u(t,p),u(p,v),C(v,e[2]),u(t,_),u(t,R),Z(D,R,null),T=!0,J||(U=[I(a,"input",e[7]),I(b,"input",e[8]),I(v,"input",e[11])],J=!0)},p(m,[A]){m[1]!=0?w?w.p(m,A):(w=Pe(m),w.c(),w.m(n,r)):w&&(w.d(1),w=null),m[0].length!=m[1]+1?$?$.p(m,A):($=Se(m),$.c(),$.m(n,null)):$&&($.d(1),$=null),A&3&&a.value!==m[0][m[1]].shortFlag&&C(a,m[0][m[1]].shortFlag),A&3&&b.value!==m[0][m[1]].longFlag&&C(b,m[0][m[1]].longFlag),P===(P=V(m))&&N?N.p(m,A):(N.d(1),N=P(m),N&&(N.c(),N.m(g,null))),A&4&&C(v,m[2])},i(m){T||(M(D.$$.fragment,m),T=!0)},o(m){K(D.$$.fragment,m),T=!1},d(m){m&&L(t),w&&w.d(),$&&$.d(),N.d(),ee(D),J=!1,x(U)}}}function ht(e,t,l){let{data:n}=t,{index:r}=t,i=Array.isArray(n[r].description)?n[r].description.join(`
`):n[r].description;function o(){l(0,n=[...n.slice(0,r-1),n[r],n[r-1],...n.slice(r+1)])}function a(){l(0,n=[...n.slice(0,r),n[r+1],n[r],...n.slice(r+2)])}function c(){l(0,n=[...n.slice(0,r),...n.slice(r+1)])}let f;function b(_){if(f){_.preventDefault();return}f=setTimeout(()=>{f=null,l(0,n[r].argument=F.REQUIRED,n)},200)}function h(){n[r].shortFlag=this.value,l(0,n),l(1,r),l(2,i)}function g(){n[r].longFlag=this.value,l(0,n),l(1,r),l(2,i)}function E(){n[r].argument=ze(this),l(0,n),l(1,r),l(2,i)}function p(){n[r].argumentPlaceholder=this.value,l(0,n),l(1,r),l(2,i)}function v(){i=this.value,l(2,i)}return e.$$set=_=>{"data"in _&&l(0,n=_.data),"index"in _&&l(1,r=_.index)},e.$$.update=()=>{e.$$.dirty&6&&l(0,n[r].description=i==null?void 0:i.split(`
`),n)},[n,r,i,o,a,c,b,h,g,E,p,v]}class gt extends le{constructor(t){super(),ne(this,t,ht,pt,te,{data:0,index:1})}}function Ie(e,t,l){const n=e.slice();return n[3]=t[l],n[5]=l,n}function De(e){let t,l,n;function r(o){e[2](o)}let i={index:e[5]};return e[0]!==void 0&&(i.data=e[0]),t=new gt({props:i}),ce.push(()=>qe(t,"data",r)),{c(){de(t.$$.fragment)},m(o,a){Z(t,o,a),n=!0},p(o,a){const c={};!l&&a&1&&(l=!0,c.data=o[0],Me(()=>l=!1)),t.$set(c)},i(o){n||(M(t.$$.fragment,o),n=!0)},o(o){K(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function _t(e){let t,l,n,r,i,o,a,c,f,b,h=e[0],g=[];for(let p=0;p<h.length;p+=1)g[p]=De(Ie(e,h,p));const E=p=>K(g[p],1,1,()=>{g[p]=null});return{c(){t=s("div"),l=s("table"),n=s("thead"),n.innerHTML=`<tr><td></td> 
                <th>Short Name</th> 
                <th>Long Name</th> 
                <th>Argument</th> 
                <th>Description</th> 
                <th></th></tr>`,r=k(),i=s("tbody");for(let p=0;p<g.length;p+=1)g[p].c();o=k(),a=s("button"),a.textContent="Add option",d(a,"class","btn mt-6"),d(l,"class","table w-full"),d(t,"class","overflow-x-auto")},m(p,v){O(p,t,v),u(t,l),u(l,n),u(l,r),u(l,i);for(let _=0;_<g.length;_+=1)g[_].m(i,null);u(i,o),u(i,a),c=!0,f||(b=I(a,"click",e[1]),f=!0)},p(p,[v]){if(v&1){h=p[0];let _;for(_=0;_<h.length;_+=1){const R=Ie(p,h,_);g[_]?(g[_].p(R,v),M(g[_],1)):(g[_]=De(R),g[_].c(),M(g[_],1),g[_].m(i,o))}for(Xe(),_=h.length;_<g.length;_+=1)E(_);Ye()}},i(p){if(!c){for(let v=0;v<h.length;v+=1)M(g[v]);c=!0}},o(p){g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)K(g[v]);c=!1},d(p){p&&L(t),Ce(g,p),f=!1,b()}}}function mt(e,t,l){let{data:n}=t;function r(){l(0,n=[...n,{}])}function i(o){n=o,l(0,n)}return e.$$set=o=>{"data"in o&&l(0,n=o.data)},[n,r,i]}class bt extends le{constructor(t){super(),ne(this,t,mt,_t,te,{data:0})}}function vt(e){let t,l,n,r,i,o,a,c,f,b,h,g,E,p,v,_,R,D,T,J,U,w,$,V,P,N,m,A,ye,re,q,pe,G,ie,oe,W,he,H,ge,ke;function Be(y){e[2](y)}let Ee={};return e[0]!==void 0&&(Ee.data=e[0]),r=new bt({props:Ee}),ce.push(()=>qe(r,"data",Be)),q=new ut({props:{command:"cat helptext",lines:z(e[0]).generateHelpText({outputAsArray:!0})}}),{c(){t=s("main"),l=s("h1"),l.textContent="getopt generator",n=k(),de(r.$$.fragment),o=k(),a=s("div"),c=k(),f=s("div"),b=s("div"),h=s("div"),g=s("div"),E=s("label"),p=s("span"),p.innerHTML="<pre>const char *optstring</pre>",v=k(),_=s("input"),D=k(),T=s("div"),J=k(),U=s("div"),w=s("label"),$=s("span"),$.innerHTML="<pre>struct option[]</pre>",V=k(),P=s("textarea"),m=k(),A=s("div"),ye=k(),re=s("div"),de(q.$$.fragment),pe=k(),G=s("footer"),ie=s("div"),oe=s("p"),W=s("a"),he=B(e[1]),d(a,"class","divider"),d(_,"type","text"),d(_,"placeholder","Add options to see optstring"),d(_,"class","input input-bordered"),_.value=R=z(e[0]).generateShort(),_.readOnly=!0,d(E,"class","input-group input-group-vertical"),d(g,"class","form-control"),d(T,"class","divider"),d(P,"placeholder","Add options to see optstring"),d(P,"class","input input-bordered"),P.value=N=z(e[0]).generateLong(),P.readOnly=!0,d(w,"class","input-group input-group-vertical"),d(U,"class","form-control"),d(h,"class","flex flex-col w-full border-opacity-50"),d(b,"class","h-20 flex-grow place-items-center"),d(A,"class","divider divider-horizontal"),d(re,"class","flex-grow place-items-center"),d(f,"class","flex w-full"),d(t,"class","svelte-9gswuq"),d(W,"href","#"),d(oe,"class","svelte-9gswuq"),d(ie,"class","svelte-9gswuq"),d(G,"class","footer footer-center p-4 bg-base-300 text-base-content svelte-9gswuq")},m(y,j){O(y,t,j),u(t,l),u(t,n),Z(r,t,null),u(t,o),u(t,a),u(t,c),u(t,f),u(f,b),u(b,h),u(h,g),u(g,E),u(E,p),u(E,v),u(E,_),u(h,D),u(h,T),u(h,J),u(h,U),u(U,w),u(w,$),u(w,V),u(w,P),u(f,m),u(f,A),u(f,ye),u(f,re),Z(q,re,null),O(y,pe,j),O(y,G,j),u(G,ie),u(ie,oe),u(oe,W),u(W,he),H=!0,ge||(ke=I(W,"click",e[3]),ge=!0)},p(y,[j]){const $e={};!i&&j&1&&(i=!0,$e.data=y[0],Me(()=>i=!1)),r.$set($e),(!H||j&1&&R!==(R=z(y[0]).generateShort())&&_.value!==R)&&(_.value=R),(!H||j&1&&N!==(N=z(y[0]).generateLong()))&&(P.value=N);const Le={};j&1&&(Le.lines=z(y[0]).generateHelpText({outputAsArray:!0})),q.$set(Le),(!H||j&2)&&ve(he,y[1])},i(y){H||(M(r.$$.fragment,y),M(q.$$.fragment,y),H=!0)},o(y){K(r.$$.fragment,y),K(q.$$.fragment,y),H=!1},d(y){y&&L(t),ee(r),ee(q),y&&L(pe),y&&L(G),ge=!1,ke()}}}function wt(e,t,l){let n=[],r=new URLSearchParams(location.search).get("s");if(r)try{n=rt(r)}catch{console.error("Could not load URL")}n.length==0&&(n=[{longFlag:"reee",description:"Description",argument:F.REQUIRED,argumentPlaceholder:"data"},{shortFlag:"b",description:["beeeee","movie?"]}]);let i;function o(c){n=c,l(0,n)}const a=()=>{navigator.clipboard.writeText(i).then(()=>{alert("Link copied")},()=>{alert("Failed to copy link")})};return e.$$.update=()=>{e.$$.dirty&1&&l(1,i=location.href.slice(0,location.href.indexOf(location.search))+"?s="+lt(n))},[n,i,o,a]}class yt extends le{constructor(t){super(),ne(this,t,wt,vt,te,{})}}new yt({target:document.getElementById("app")});
